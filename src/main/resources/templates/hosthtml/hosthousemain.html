<!DOCTYPE html>
<html lang="ko-KR" class="no-js">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Comaptible" content="IE=Edge">
    <meta http-equiv="Cache-control" content="public">
    <meta name="description" content="객실 및 예약설정에서 광고상품 구매까지 모든 관리가 가능한 여기어때 호스트하우스 전용 통합 마케팅 플랫폼">
    <meta name="keywords" content="여기어때, 사장님사이트, 호스트하우스, 호스트홍보, 게스트하우스, 사장님전용사이트">
    <meta name="author" content="Gray"><!-- humans.txt 처리 권장 -->
    <meta name="apple-mobile-web-app-title" content="여기어때 호스트 하우스" />
    <meta name="viewport"
          content="width=device-width, initial-scale=0.3, minimum-scale=0.3, maximum-scale=1, user-scalable=yes">
    <title>여기어때 호스트 하우스</title>
    <link rel="canonical" href="https://guest.goodchoice.kr" />
    <link rel="shortcut icon" type="image/x-icon" href="../host/img/asset/favicon_170822.ico" />
    <link href="../host/css/bootstrap.min.css" rel="stylesheet">
    <link href="../host/css/common.host.css?rand=1628154923" rel="stylesheet">
    <link href="../host/css/new2.css" rel="stylesheet" />
    <script src="../host/js/jquery-2.1.3.min.js"></script> <!-- 무조건 있어야 함요-->
    <script src="../host/js/jquery-ui.min.js"></script> <!-- 무조건 있어야 함요-->
    <script src="../host/js/jquery.lazyload.min.js"></script> <!-- 로그아웃 -->

    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->


</head>

<body id="main">
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NNLLB5W" height="0" width="0"
                  style="display:none;visibility:hidden"></iframe></noscript>

<!-- 헤더 -->
<div th:replace="hostthy/host-header :: host-header"></div>
<!--헤더 끝 -->

<!--  안연주 hidden 값 끝  mem 아이디임-->
<input type="hidden" name="id" id="id" th:value="${id}">
<!--    host id-->
<input type="hidden" name="hostid" id="hostid">
<!--   안연주 hidden 값 끝 -->

<section class="container">
    <div class="menu-step">
        <h1>아래 정보를 모두 입력하시고 숙소 등록을 완료하세요.</h1>
        <div class="action-layer">
            <a href="/hosthousemain/mypageregist" class="mypageregist_hostid">
                    <span class="btn action-button">
                        업체 정보 등록
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </span>
            </a>
        </div>
        <div class="todo-layer">
            <nav>
                <ul>
                    <li>
                        <span class="btn-todo on"><img src="../host/img/asset/icn_1_info_64x64.png" /></span>
                        <span class="todo-desc on">마이페이지<br />업체 정보 등록</span>
                    </li>
                    <li class="prog">
                        <span class="do">&nbsp;</span>
                        <span>&nbsp;</span>
                        <span class="do">&nbsp;</span>
                        <span>&nbsp;</span>
                        <span class="do">&nbsp;</span>
                        <span>&nbsp;</span>
                        <span class="do">&nbsp;</span>
                        <span>&nbsp;</span>
                        <span class="do">&nbsp;</span>
                    </li>
                    <li>
                        <span class="btn-todo "><img src="../host/img/asset/icn_2_write_64x64.png" /></span>
                        <span class="todo-desc ">소개 작성</span>
                    </li>
                    <li class="prog">
                        <span class="do">&nbsp;</span>
                        <span>&nbsp;</span>
                        <span class="do">&nbsp;</span>
                        <span>&nbsp;</span>
                        <span class="do">&nbsp;</span>
                        <span>&nbsp;</span>
                        <span class="do">&nbsp;</span>
                        <span>&nbsp;</span>
                        <span class="do">&nbsp;</span>
                    </li>
                    <li>
                        <span class="btn-todo "><img src="../host/img/asset/icn_3_rule_64x64.png" /></span>
                        <span class="todo-desc ">이용규칙 관리</span>
                    </li>
                    <li class="prog">
                        <span class="do">&nbsp;</span>
                        <span>&nbsp;</span>
                        <span class="do">&nbsp;</span>
                        <span>&nbsp;</span>
                        <span class="do">&nbsp;</span>
                        <span>&nbsp;</span>
                        <span class="do">&nbsp;</span>
                        <span>&nbsp;</span>
                        <span class="do">&nbsp;</span>
                    </li>
                    <li>
                        <span class="btn-todo "><img src="../host/img/asset/icn_4_room_64x64.png" /></span>
                        <span class="todo-desc ">객실 관리</span>
                    </li>
                </ul>
            </nav>
        </div>
    </div>

    <div class="main-spot">
        <img src="../host/img/asset/mainspot_210716.png" alt="" width="966" style="margin-top:-120px;">
        <!-- [BOD-3703]호스트하우스 홈 > 여기어때 홍보 이미지 교체 -->
    </div>
    <div class="main-layer">
        <div class="notice-layer">
            <div class="notice-header">
                <!-- <a href="/notice"> -->
                <span>공지사항</span>
                <span><i class="fa fa-angle-right" aria-hidden="true"></i></span>
            </div>
            <hr>
            <div class="notice-body">
                <!-- <a href="/notice/view/353"> -->
                <span>[공지] 게스트하우스 앱 내 취소 기능 오픈 안내</span>
                <span>2021.08.14</span>
                <!-- </a> -->
            </div>
            <hr>
            <div class="notice-body">
                <!-- <a href="/notice/view/351"> -->
                <span>[안내] 고객 예약 건 취소 요청 방법</span>
                <span>2021.07.07</span>
                <!-- </a> -->
            </div>
            <hr>
            <div class="notice-body">
                <!-- <a href="/notice/view/349"> -->
                <span>[공지] 정산메뉴 신설에 따른 안내</span>
                <span>2021.05.28</span>
                <!-- </a> -->
            </div>
            <hr>
            <div class="notice-body">
                <!-- <a href="/notice/view/347"> -->
                <span>[공지] 수수료 관련 변경사항 안내</span>
                <span>2021.05.03</span>
                <!-- </a> -->
            </div>
            <hr>
            <div class="notice-body">
                <!-- <a href="/notice/view/344"> -->
                <span>[안내] 서비스 점검 안내(4/13 04:00~06:00)</span>
                <span>2021.04.08</span>
                <!-- </a> -->
            </div>
            <hr>
        </div>
        <div class="affiliate-layer">
            <div class="not-used"><span>준비중입니다.</span></div>
            <div class="room-layer">
                <a><span>예약 객실 판매 <i class="fa fa-angle-right" aria-hidden="true"></i></span></a>
                <span>
                        <ul>
                            <li>0</li>
                            <li>0</li>
                            <li>0</li>
                        </ul>
                        <ul>
                            <li>오늘</li>
                            <li>이번주</li>
                            <li>이번달</li>
                        </ul>
                    </span>
            </div>
            <div class="review-layer">
                <span>등록된 리뷰수 (총 55개) <i class="fa fa-angle-right" aria-hidden="true"></i></span>
                <span>
                        <ul>
                            <li>1</li>
                            <li>5</li>
                            <li>20</li>
                        </ul>
                        <ul>
                            <li>오늘</li>
                            <li>이번주</li>
                            <li>이번달</li>
                        </ul>
                    </span>
            </div>


            <div class="reservation-layer">
                <span class="reservation-title">입실 예정 고객 정보</span>
                <!--                    <span class="date">2021. 08. 18</span>-->
                <a><span class="more"><i class="fa fa-angle-right" aria-hidden="true"></i></span></a>
                <table>
                    <thead class="thead">
                    <tr>
                        <th>예약번호</th>
                        <th>객실명</th>
                        <th>예약자명</th>
                        <th>전화번호</th>
                        <th>체크인-체크아웃</th>
                        <th>입실일</th>
                        <th>이용금액</th>
                    </tr>
                    </thead>

                </table>
            </div>
        </div>
    </div>
</section>

<!-- Validation Script -->
<script src="../host/js/jquery.validate.js"></script>
<!--O-->
<!-- <script src="../host/js/additional-methods.min.js"></script> 없어도 되는듯? -->
<!-- <script src="../host/js/validate.js"></script> -->


<!-- 푸터 -->
<div th:replace="hostthy/host-footer :: host-footer"></div>
<!--푸터 끝 -->


<script>
    //예약 객실 판매
    $(function(){
        axios.get('/api/tbmem/mlist', {

        }).then(function(response){
            console.log(response);
            console.log(Object.keys(response.data).length)
            let memtotcount = Object.keys(response.data).length
            $('.memcount').text(memtotcount);

        }).catch(function(err){
            console.log('all-staff axios list 호출중 에러');
            console.log(err);
        });
    });
</script>

<script>
axios.get('/api/tbmem/tbhost/'+sessionId,{
}).then(function (response){
    console.log('/api/tbmem/tbhost/')
    console.log(response)
    let ch_hostid = response.data.data.tbMemApiResponse.tbHostApiResponseList[0].id
    // $('#hostid').attr('value', ch_hostid);


    axios.get('/api/host/' + ch_hostid + '/paylist',{
    }).then(function (response){
        console.log('/api/pay/paylisth/');
        console.log(response);


        let tb = $('<tbody>');//for문 밖
        for (let i =0;i <=2; i++){
            const $payid = response.data.data.tbHostForPayResponse.tbPayApiResponseList[i].id; // pay아이디 예약번호
            const $payRoomName = response.data.data.tbHostForPayResponse.tbPayApiResponseList[i].payRoomName; // 객실예약정보
            const $payHostName = response.data.data.tbHostForPayResponse.tbPayApiResponseList[i].payHostName; // 객실예약정보 (방이름)
            const $payName = response.data.data.tbHostForPayResponse.tbPayApiResponseList[i].payName; // 투숙객정보
            const $payHp = response.data.data.tbHostForPayResponse.tbPayApiResponseList[i].payHp; //연락처
            let $payCheckIn = response.data.data.tbHostForPayResponse.tbPayApiResponseList[i].payCheckIn; // 투숙일자 1
            let $payCheckOut = response.data.data.tbHostForPayResponse.tbPayApiResponseList[i].payCheckOut; //투숙일자 2
            let $payDate = response.data.data.tbHostForPayResponse.tbPayApiResponseList[i].payDate; // 입실시간 => 결제날짜
            const $payMoney = response.data.data.tbHostForPayResponse.tbPayApiResponseList[i].payMoney; //이용요금
            // const payid = response.data[i].id; //결제

            $payCheckIn = $payCheckIn.substr(0,10);
            $payCheckOut = $payCheckOut.substr(0,10);
            $payDate = $payDate.substr(0,10);

            let row = $(`<tr style="height: 35px; background-color: rgb(245, 245, 245);">`).append(
                `<td>` + $payid + `</td>`+
                `<td>` + $payHostName + `</td>`+
                `<td>` + $payName + `</td>`+
                `<td>` + $payHp.slice(0,3)+`-`+ $payHp.slice(3,7) +`-`+ $payHp.slice(7,11) +  `</td>`+
                `<td>`+ $payCheckIn +`시 - `+ $payCheckOut +`시</td>`+
                `<td>` + $payDate + `</td>`+
                `<td>` + $payMoney + `원</td>`+
                `</tr>`

            )
            tb.append(row);
        }
        tb.append('</tbody>');
        $('.thead').after(tb);

    }).catch(function (err){
        console.log('호출 중 에러');
        console.log(err);
    });

}).catch(function (err){
    console.log(err)
});
</script>



<script src="../host/js/common.host.js?nocache=1629272224.4328"></script> <!-- O -->
<script>

    // //1은 임시 세션값 생기면 바꿈
    // axios.get('/api/tbmem/tbhost/102', {
    //
    // }).then(function (response) {
    //     console.log(response);
    //     const memid = response.data.data.tbMemApiResponse.id;
    //     $(".mypageregist_hostid").attr("href", "/hosthousemain/mypageregist/"+ memid);
    //     // $('.memEmail').text(memEmail);
    //     //타임리프 헤더에서 사용중
    //     // $(".introwrite_hostid").attr("href", "/hosthousemain/introwrite/"+ hostid);
    //     $('input[name=memEmail]').attr('value',memEmail);
    //
    // }).catch(function (error) {
    //
    // });
</script>
</body>

</html>